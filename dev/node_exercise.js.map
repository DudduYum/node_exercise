{"version":3,"sources":["../src/logic.js","../src/app.js"],"names":[],"mappings":"AAAA,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,GAAG;AAClC;AACA,KAAK,CAAC,KAAK,CAAC,CAAC;AACb,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AACjB,EAAE,IAAI,CAAC,QAAQ,GAAG;AAClB,CAAC,CAAC;AACF;AACA,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACd,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;AACnB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG;AACrB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG;AAClB,CAAC,CAAC;AACF;AACA,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;AACf,EAAE,IAAI,CAAC,QAAQ,GAAG;AAClB,CAAC,CAAC;AACF;AACA,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;AACf,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG;AACvB,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAChD,GAAG,WAAW,CAAC,IAAI,CAAC;AACpB,IAAI,CAAC;AACL,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;AAClC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;AAClC,KAAK,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC/B,IAAI,CAAC;AACL,GAAG,EAAE;AACL,EAAE,CAAC;AACH,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AACrB,CAAC,CAAC;AACF;AACA,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AACrC,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC;AAC1B;AACA,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAChD,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClC,IAAI,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;AACvB,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG;AACxB,GAAG,CAAC;AACJ,EAAE,CAAC;AACH;AACA,EAAE,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC;AACrB,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK;AACtB,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;AACzB,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK;AAClB;AACA,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;AACpD,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,MAAM;AACxE,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS;AAC1C;AACA,MAAM,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;AAClD,MAAM,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG;AAC7E,MAAM,EAAE,CAAC,MAAM;AACf,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI;AACrD,MAAM,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;AACxC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO;AAC9E,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC;AAChF,MAAM,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC;AACtC,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,SAAS;AACjF,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG;AAChF,MAAM,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS;AAC7E,GAAG,MAAM,CAAC,IAAI,CAAC;AACf,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,EAAE;AAC7D,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;AACpD,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AACrB,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AAC7B,OAAO,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACzB,MAAM,GAAG;AACT,MAAM,MAAM,CAAC,GAAG,CAAC;AACjB,KAAK,EAAE;AACP,KAAK,EAAE;AACP,IAAI,CAAC;AACL,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AACnB,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI;AAC9E,IAAI,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO;AAC7E,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;AACpB,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;AAClC,IAAI,EAAE;AACN,GAAG,GAAG;AACN,EAAE,CAAC;AACH,CAAC,CAAC;AACF,CAAC;AACD;AACA,KAAK,CAAC,IAAI,CAAC,CAAC;AACZ,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;AACrB;AACA,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;AACvC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;AACvC;AACA,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;AAClC,GAAG,IAAI,CAAC,MAAM,CAAC;AACf,GAAG,IAAI,CAAC,MAAM;AACd,EAAE,EAAE,SAAS,GAAG;AAChB;AACA,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AACrB,CAAC,CAAC;AACF;AACA,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI;AACtE,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI;AACxC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACf,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE;AACrC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACZ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;AACrB,EAAE,CAAC;AACH;AACA,EAAE,MAAM,CAAC,GAAG,CAAC;AACb,CAAC,CAAC;AACF;AACA,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;AACrC;AACA,EAAE,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;AAC9C,GAAG,KAAK,CAAC;AACT,GAAG,IAAI,CAAC,MAAM;AACd,EAAE,EAAE,SAAS,GAAG;AAChB;AACA,EAAE,KAAK,CAAC,4BAA4B,CAAC,CAAC,CAAC,oBAAoB,CAAC,MAAM,GAAG;AACrE;AACA,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAClH,CAAC,CAAC;AACF,CAAC;AACD;AACA,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;;AC7HxB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,EAAE;AAC/B;AACA,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,GAAG;AACjC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,GAAG;AACpB,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,GAAG;AACrC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,GAAG;AAC3B;AACA,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;AACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;AACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,EAAE;AACF;AACA;AACA,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChB,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE;AACb,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC;AACpB,EAAE;AACF;AACA,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI;AAChD,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM;AAC1B;AACA,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS;AAC9B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG;AACf,KAAK,KAAK,CAAC,CAAC,CAAC,kBAAkB,MAAM;AACrC,KAAK,KAAK,CAAC,CAAC,CAAC,kBAAkB,MAAM;AACrC,KAAK,KAAK,CAAC,CAAC,CAAC,kBAAkB,MAAM;AACrC,KAAK,KAAK,CAAC,CAAC,CAAC,kBAAkB,MAAM;AACrC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,EAAE,CAAC,GAAG;AACrC;AACA,EAAE,CAAC,OAAO,CAAC,IAAI;AACf,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG;AACb,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK;AAClC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK;AAClC;AACA,EAAE,CAAC,KAAK;AACR,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG;AACxB,EAAE,CAAC,IAAI,CAAC,KAAK;AACb,aAAa,CAAC,GAAG,CAAC;AAClB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACV,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;AACjC,CAAC,CAAC;AACF,EAAE;AACF;AACA,EAAE,CAAC,IAAI,CAAC,MAAM;AACd,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG;AAC9B;AACA,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK;AACjB,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACtC,CAAC,IAAI,GAAG;AACR,GAAG;AACH;AACA,MAAM,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC,CAAC,GAAG,CAAC,IAAI,EAAE;AACX,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;AACZ,CAAC,GAAG;AACJ,GAAG;AACH;AACA,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;AACxB,MAAM,CAAC,KAAK,GAAG,KAAK,EAAE,KAAK,EAAE,CAAC,GAAG,IAAI,EAAE,KAAK,EAAE,CAAC,GAAG,IAAI,EAAE,KAAK,EAAE,CAAC,KAAK,KAAK,QAAQ,KAAK,EAAE,CAAC,KAAK,KAAK,MAAM,CAAC,EAAE,KAAK,WAAW,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,KAAK,KAAK,MAAM,CAAC,EAAE,KAAK,WAAW,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,KAAK,KAAK,QAAQ;AACjO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACjC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE;AAC/C,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE;AAC/C;AACA,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AACtD,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG;AACrB,CAAC,CAAC;AACF,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;AAC5B,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE;AAClC;AACA,CAAC,GAAG,CAAC,IAAI,EAAE;AACX,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE;AAChC,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC;AACf,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO;AACd,CAAC,GAAG;AACJ,GAAG;AACH;AACA,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM;AAC3B,MAAM,CAAC,KAAK,GAAG,KAAK,EAAE;AACtB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1B,CAAC,GAAG,CAAC,IAAI,EAAE;AACX,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE;AAC7B,CAAC,GAAG;AACJ,EAAE;AACF,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7B,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK;AAC7B,CAAC,KAAK,CAAC,SAAS,GAAG;AACnB,CAAC,GAAG,CAAC,IAAI,EAAE;AACX,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;AACjC,CAAC,GAAG;AACJ,GAAG;AACH;AACA,EAAE,CAAC,IAAI,CAAC,OAAO;AACf,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,OAAO,GAAG,EAAE,KAAK,QAAQ;AACrD,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1B,CAAC,GAAG,CAAC,IAAI,EAAE;AACX,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE;AACZ,CAAC,GAAG;AACJ,GAAG;AACH;AACA,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE;AACzB;AACA,EAAE,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACzC,EAAE,EAAE,OAAO,CAAC,GAAG,EAAE,QAAQ,CAAC,OAAO,GAAG;AACpC,EAAE,CAAC,GAAG,CAAC;AACP,QAAQ,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7C,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE;AACjB,CAAC,GAAG,CAAC,IAAI,CAAC;AACV,EAAE,CAAC;AACH,GAAG,CAAC,KAAK,EAAE,CAAC,GAAG;AACf,EAAE,CAAC;AACH,CAAC,EAAE;AACH,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE;AACpB,CAAC,IAAI,GAAG;AACR,CAAC;AACD;AACA,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK;AACvB,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,MAAM,EAAE;AACxB;AACA,EAAE,CAAC,IAAI,CAAC,SAAS;AACjB,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE","file":"node_exercise.js","sourcesContent":["const MathDS = require('math-ds');\n\nclass Plane {\n\tconstructor () {\n\t\tthis.initData();\n\t}\n\n\tinitData () {\n\t\tthis.points = [];\n\t\tthis.quantity = [];\n\t\tthis.lines = [];\n\t}\n\n\tdeleteAll () {\n\t\tthis.initData();\n\t}\n\n\tgetPoints () {\n\t\tvar pointsArray = [];\n\t\tfor (var i = 0; i < this.points.length; i++) {\n\t\t\tpointsArray.push(\n\t\t\t\t{\n\t\t\t\t\tx: this.points[i].position.x,\n\t\t\t\t\ty: this.points[i].position.y,\n\t\t\t\t\tquantity: this.quantity[i]\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\treturn this.points;\n\t}\n\n\taddPoint (x, y) {\n\t\tconst p = new MathDS.Vector2(x, y);\n\t\tvar isDuplicate = false;\n\n\t\tfor (var i = 0; i < this.points.length; i++) {\n\t\t\tif (p.equals(this.points[i])) {\n\t\t\t\tisDuplicate = true;\n\t\t\t\tthis.quantity[i] ++;\n\t\t\t}\n\t\t}\n\n\t\tif (!isDuplicate) {\n      // add the point\n\t\t\tthis.quantity.push(1);\n\t\t\tconst pIndex = this.points.push(p) - 1;\n      // add lines\n\n      // the point is a new one, so I need to add it\n      // if the point is on the same axis the line is, addPoint() method\n      // will return true, false otherwise\n\n      // well now let's explain this line of code:\n      // Every time I add new point to the plain there are two thing that may\n      // happen\n\t\t\t// - the firts is the new point belong to the line\n      // - the second is that it doens't\n      // so in firts case the point is \"connected\" to all line's point through\n      // the line, this mean I do not need to add new line segment to the plain,\n      // because there already is one.\n      // In the second case the points of the line may be or may be not connected\n      // to the point through some line. So I need to filter all points that are\n      // connected to the current point and keep those that are not connected\n\t\t\tObject.keys(\n\t\t\t\tthis.lines.filter(item => this.lines[i].addPoint(pIndex))\n\t\t\t\t.reduce( // will return an object with unic keys\n\t\t\t\t\t(acc, item) => {\n\t\t\t\t\t\tacc.pool.map(point => {\n\t\t\t\t\t\t\tacc[point] = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\t\t\t).map(point => {\n\t\t\t\t// I use the code above to get all points that are not connected with line\n\t\t\t\t// segment to the new point, though the new line segments must be created\n\t\t\t\tthis.lines.push(\n\t\t\t\t\tnew Line(this, pIndex, point)\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n}\n\nclass Line {\n\tconstructor (plane, a, b) {\n\t\tthis.plane = plane;\n\n\t\tthis.center = this.plane.getPoint(a);\n\t\tthis.vertex = this.plane.getPoint(b);\n\n\t\tthis.distanceV = MathDS.Vector2(\n\t\t\tthis.vertex,\n\t\t\tthis.center\n\t\t).normalize();\n\n\t\tthis.pool = [a, b];\n\t}\n\n  // p is an index inside plane.points array, and addPoint return true\n  // only if the point belog to the line\n\taddPoint (p) {\n\t\tvar res = this.isOnTheSameAxies(p);\n\t\tif (res) {\n\t\t\tthis.pool.push(p);\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tisOnTheSameAxis (p) {\n\t\tvar point = this.plane.getPoint(p);\n\n\t\tconst differenceFromCenter = MathDS.Vector2(\n\t\t\tpoint,\n\t\t\tthis.center\n\t\t).normalize();\n\n\t\tconst negativeDifferenceFromCenter = differenceFromCenter.negate();\n\n\t\treturn this.distanceV.dot(differenceFromCenter) === 1 || this.distanceV.dot(negativeDifferenceFromCenter) === 1;\n\t}\n}\n\n// export default Plane;\n","// import Plane from './logic';\n\nvar express = require('express');\nvar app = express();\nvar bParser = require('body-parser');\nvar path = require('path');\n\nvar pointsForTest = [\n\t{x: 3, y: 5},\n\t{x: 15, y: 178},\n\t{x: 3, y: 5},\n\t{x: 43, y: 0}\n];\n\n\nconst errors = [\n\t'no errors',\n\t'wrong coordinates'\n];\n\napp.use(bParser.urlencoded({ extended: true }));\napp.use(bParser.json([]));\n\n// special character managment\nvar chars = {};\nchars['{'] = encodeURIComponent('{');\nchars['}'] = encodeURIComponent('}');\nchars[','] = encodeURIComponent(',');\nchars['\"'] = encodeURIComponent('\"');\nchars[' '] = encodeURIComponent(' ');\n\n// pattern mana\nvar pat = {};\npat.wSp = '(' + chars[' '] + ')+';\npat.wSs = '(' + chars[' '] + ')*';\n\n// logic\nvar plane = new Plane();\n// init palne\npointsForTest.map(\n\titem => {\n\t\tplane.addPoint(item.x, item.y);\n\t}\n);\n\n// init router\nvar router = express.Router();\n\n// jsut for debug\nrouter.use(function (req, res, next) {\n\tnext();\n});\n\nrouter.get('/', function (req, res) {\n\tres.json({\n\t\t'api/': ''\n\t});\n});\n\n// add a point with body\nrouter.route(`/point${chars[' ']}with${chars[' ']}body${chars[' ']}${chars['{']}${chars[' ']}${chars['\"']}x${chars['\"']}\\\\:${chars[' ']}:x,${chars[' ']}${chars['\"']}y${chars['\"']}\\\\:${chars[' ']}:y${chars[' ']}${chars['}']}`)\n.post(function (req, res, next) {\n\tconst xNumber = Number.parseInt(req.params.x);\n\tconst yNumber = Number.parseInt(req.params.y);\n\n\tif (Number.isNaN(xNumber) || Number.isNaN(yNumber)) {\n\t\tnext(new Error(1));\n\t}\n  // so far everything is ok\n\tplane.addPoint(xNumber, yNumber);\n\n\tres.json({\n\t\t'msg': 'Point has been added',\n\t\t'x': xNumber,\n\t\t'y': yNumber\n\t});\n});\n\n// view & delete all points\nrouter.route('/space')\n.get(function (req, res) {\n\tres.json({\n\t\t'points': plane.getPoints()\n\t});\n})\n.delete(function (req, res) {\n  // delete points from plane\n\tplane.deleteAll();\n\tres.json({\n\t\t'msg': 'the space is empty now'\n\t});\n});\n\n// line numbers\nrouter.route(`/lines/${chars['{']}:num${chars['}']}`)\n.get(function (req, res) {\n\tres.json({\n\t\t'line': {}\n\t});\n});\n\nrouter.use(errorHandler);\n\n// router.all('/*', function (req, res) {\n// \tconsole.log('specific handler');\n// });I\nfunction errorHandler (err, req, res, next) {\n\tres.status(500);\n\tres.json(\n\t\t{\n\t\t\t'error': err\n\t\t}\n\t);\n\tconsole.error(err);\n\tnext();\n}\n\n// add routes for space\napp.use('/api', router);\n\n// port listening\napp.listen(3000);\n"]}